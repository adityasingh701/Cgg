<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YouTube Smart Player</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}

body{
background: radial-gradient(circle at top,#0f2027,#203a43,#2c5364);
min-height:100vh;
display:flex;
align-items:center;
justify-content:center;
color:white;
}

.container{
width:95%;
max-width:850px;
background:rgba(255,255,255,0.08);
backdrop-filter: blur(18px);
border-radius:20px;
padding:35px;
box-shadow:0 0 45px rgba(0,0,0,0.5);
}

h1{text-align:center;margin-bottom:20px;}

.input-box{display:flex;gap:10px;margin-bottom:25px;}

input{
flex:1;padding:15px;border:none;border-radius:12px;outline:none;
}

button{
padding:15px 22px;border:none;border-radius:12px;
background:linear-gradient(45deg,#ff0000,#cc0000);
color:white;font-weight:600;cursor:pointer;
}

.preview{
margin-top:15px;
position:relative;
border-radius:14px;
overflow:hidden;
display:none;
cursor:pointer;
}

.preview img{width:100%;display:block;}

.play-btn{
position:absolute;
top:50%;left:50%;
transform:translate(-50%,-50%);
font-size:70px;
color:white;
text-shadow:0 0 20px black;
}

.title{
margin:12px 0 0;
font-weight:500;
text-align:center;
}

.player{
margin-top:20px;
border-radius:14px;
overflow:hidden;
display:none;
}

iframe{width:100%;height:420px;border:none;}

.error{color:#ff4d4d;text-align:center;margin-top:10px;}
</style>
</head>

<body>

<div class="container">
<h1>▶ YouTube Smart Preview Player</h1>

<div class="input-box">
<input type="text" id="ytlink" placeholder="Paste YouTube Link">
<button onclick="generatePreview()">Preview</button>
</div>

<div class="preview" id="preview" onclick="downloadVideo()">
<img id="thumb">
<div class="play-btn">▶</div>
</div>

<div class="title" id="title"></div>

<div class="player" id="player"></div>

<div class="error" id="error"></div>
</div>

<script>
let videoID="";

function extractID(url){
let reg = /(?:youtube\.com\/(?:watch\?v=|shorts\/)|youtu\.be\/)([^&\n?#]+)/;
let match = url.match(reg);
return match ? match[1] : null;
}

async function generatePreview(){
let url=document.getElementById("ytlink").value.trim();
videoID=extractID(url);
let preview=document.getElementById("preview");
let titleBox=document.getElementById("title");
let error=document.getElementById("error");
let player=document.getElementById("player");

player.style.display="none";
error.innerHTML="";

if(!videoID){
preview.style.display="none";
titleBox.innerHTML="";
error.innerHTML="Invalid YouTube link";
return;
}

document.getElementById("thumb").src=`https://img.youtube.com/vi/${videoID}/maxresdefault.jpg`;
preview.style.display="block";

try{
let res=await fetch(`https://www.youtube.com/oembed?url=${url}&format=json`);
let data=await res.json();
titleBox.innerHTML=data.title;
}catch{
titleBox.innerHTML="Unable to fetch title";
}
}

function downloadVideo(){
let player=document.getElementById("player");
player.style.display="block";
player.innerHTML=`<iframe src="https://www.youtube.com/embed/${videoID}?autoplay=1" allowfullscreen></iframe>`;

  link.download = 'videeeo.mp4'
}
</script>
</body>
</html>

